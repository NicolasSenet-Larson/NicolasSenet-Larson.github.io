@charset "utf-8"

// Variables

$content-width: 1200px !default
$on-palm: 600px !default
$page-logo-width: 300px
$header-logo-width: 36px
$post-logo-width: 100px
$spacing: 20px
$border-radius: 4px

$grey-light: darkgrey
$grey: #393F3F
$grey-dark: #2E3436
$gold: #D4AF37
$black: #1a1a1a
$blue: #24425C

$base-font-family: Cantarell, "Helvetica Neue", Helvetica, Arial, sans-serif !default
$base-color: #3D3D3D
$header-color: #2D2D2D
$link-color: steelblue
$background-color: white

$site-background: #2E3436 url(noise-texture.png) center fixed
$site-background-size: auto

$box-shadow: 0 0 0 1px rgba(0,0,0,0.2), inset 0 -#{$border-radius} rgba(0,0,0,0.2)
$active-box-shadow: inset 0 0 0 1px rgba(0,0,0,0.2), inset 0 #{$border-radius} rgba(0,0,0,0.2)
$text-shadow: 1px 1px rgba(0,0,0,0.1)
$title-shadow: 0 0 1px rgba(0,0,0,1)

// Fonts

@font-face
    font-family: 'Barbarian'
    src: url(Barbarian.ttf)

@font-face
    font-family: 'Barbarian NS'
    src: url(Barbarian-NS.ttf)

@font-face
    font-family: 'Knights Quest Shielded'
    src: url(Knights-Quest-Shielded.ttf)

// Media queries

@mixin media-query($device)
    @media screen and (max-width: $device)
        @content

// Animations

@keyframes max-width
    0%
        max-width: 0
    25%
        max-width: 0
    50%
        max-width: $spacing
    100%
        max-width: $content-width

@keyframes box-shadow
    0%
        box-shadow: inset $box-shadow black
        background-color: $blue
    50%
        box-shadow: inset $box-shadow black
        background-color: $blue
    100%
        box-shadow: none
        background-color: white

@keyframes display
    0%
        opacity: 0
    100%
        opacity: 1

// Common elements

a
    color: $link-color
    text-decoration: none
    font-weight: bold

a:hover, a:focus
    text-decoration: underline
    outline: none

.button
    color: $base-color
    border-radius: $border-radius
    background-color: darken($background-color, 0)
    box-shadow: $box-shadow

.button:hover, .button:active, .button:focus
    color: $header-color
    background-color: darken($background-color, 20)
    text-decoration: none

.button:active
    background-color: darken($background-color, 30)
    box-shadow: $active-box-shadow

// Background

html
    font-family: $base-font-family
    height: 100%
    text-align: center
    color: $base-color
    background: $site-background
    background-size: $site-background-size

body
    max-width: $content-width - $spacing
    width: calc(100% - #{$spacing})
    min-height: 100%
    margin: auto
    position: relative
    animation: display 0.2s linear

    // Site header

    .site-header
        position: fixed
        top: 0
        left: 0
        right: 0
        z-index: 10
        padding-bottom: $border-radius
        background-color: $header-color
        box-shadow: $box-shadow

        .site-nav
            .nav-trigger
                display: none

            label[for="nav-trigger"]
                display: none
                float: right
                width: 36px
                height: 36px
                cursor: pointer

            .menu-icon
                display: block
                float: right
                width: 36px
                height: 26px
                line-height: 0
                padding-top: 10px
                text-align: center

                svg path
                    fill: $background-color

            input ~ .trigger
                clear: both
                display: block

            input:checked ~ .trigger
                display: block

            .page-links
                float: left
                width: 50%

            .socials
                float: right
                width: 50%

            .page-link, .social
                display: inline-block
                vertical-align: middle
                min-width: $header-logo-width
                height: $header-logo-width
                line-height: $header-logo-width
                padding: $spacing/2
                color: $background-color

            .page-link:hover, .page-link:active, .page-link:focus, .social:hover, .social:active, .social:focus
                background: transparentize($background-color, 0.9)
                text-decoration: none

            .page-link:active, .social:active
                box-shadow: $active-box-shadow

    // Site footer

    footer
        position: absolute
        bottom: 0
        left: 0
        right: 0
        padding: $spacing
        color: $background-color

    // Page

    .page
        padding-top: ($header-logo-width + $spacing + $border-radius + $spacing)*2
        padding-bottom: $header-logo-width + $spacing + $border-radius + $spacing

        // Page header

        .page-header
            font-weight: bold
            color: $background-color

            .page-title
                font-size: 2em
                margin: $spacing 0

            time, .page-category
                display: inline-block
                vertical-align: middle
                margin: 0 $spacing/2

            .page-logo
                margin: $spacing*2 calc(50% - #{$page-logo-width}/2)
                width: $page-logo-width
                height: $page-logo-width
                line-height: $page-logo-width
                overflow: hidden
                border-radius: 50%
                background-color: transparentize($header-color, 0.9)

                img
                    max-width: 100%
                    min-height: 100%

        // Page content

        .page-content
            text-align: left
            margin: $spacing*2 auto
            padding: $spacing
            box-shadow: $box-shadow
            background-color: $background-color
            border-radius: $border-radius

            h1, h2, h3, h4
                color: $header-color

            h1, h2
                border-bottom: 1px solid $header-color
                padding-bottom: $spacing/2

            strong em
                display: block
                text-align: center

            img


            // Syntax highlighting styles for code snippets
            @import "_syntax-highlighting"

    // Home page

    #home
        .page-header
            .page-title
                font-family: 'Knights Quest Shielded', $base-font-family
                font-weight: normal
                font-size: 3em

            .page-category
                font-size: 1.5em

        .post
            display: block
            margin: $spacing auto
            padding: $spacing

            .post-logo
                display: inline-block
                width: $post-logo-width
                height: $post-logo-width
                line-height: $post-logo-width
                border-radius: 50%
                overflow: hidden
                background-color: transparentize($header-color, 0.9)

                img
                    width: 100%
                    min-height: 100%


            .post-title
                font-size: 1.5em

            time
                display: inline-block
                vertical-align: middle
                margin: 0 $spacing/2

            .post-category
                display: inline-block
                vertical-align: middle
                margin: 0 $spacing/2
